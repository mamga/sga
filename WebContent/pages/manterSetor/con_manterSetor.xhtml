<?xml version="1.0" encoding="UTF-8"?>
<ui:component xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/pages/templates/ApplicationTemplate.xhtml">
		<ui:define name="body">
		
			<div id="conteudo_corpo">
				<p:messages id="messages" autoUpdate="true" closable="true" />
				<h:form>
		             <p:panel header="Cadastro de Setores" style="margin-bottom:10px;"> 
			            	<h:panelGrid columns="2">
			            		<h:outputLabel for="descricao" value="Descrição:" /> 
				                <p:inputText id="descricao" value="#{setorManagedBean.descricao}" size="50" />
				            </h:panelGrid>
				            <br></br>
				                 
				            <p:commandButton value="Consultar"
				            				 actionListener="#{setorManagedBean.loadSetores}" 
                                             update=":ajaxForm" 
                                             immediate="true"
                                             icon="ui-icon-search"
                                             />
		            </p:panel> 
		        </h:form>  			

	

		        <h:panelGroup id="ajaxForm">
	                <p:dataTable id="tabela" var="setor" value="#{setorManagedBean.setores}" emptyMessage="Nenhum Registro" rendered="#{setorManagedBean.setores != null}"> <!-- rendered="true" -->  
				        <p:column headerText="Código">  
				            <h:outputText value="#{setor.codigo}" />  
				        </p:column>
				        <p:column headerText="Descrição">  
				            <h:outputText value="#{setor.descricao}" />  
				        </p:column>  
			    	</p:dataTable>  
			    </h:panelGroup>
			    
			</div>
			
			<p:ajaxStatus style="width:64px;height:64px;position:fixed;right:5px;bottom:5px">  
    			<f:facet name="start">  
        			<p:graphicImage value="/images/loading.gif" />  
    			</f:facet>  
  			    <f:facet name="complete">  
        			<h:outputText value="" />  
    			</f:facet>  
			</p:ajaxStatus>  
			
		</ui:define>
	</ui:composition>

</ui:component>


<!-- 

<h:outputLabel for="" value="" /> 
				                <h:commandButton value="Consultar">
				                	<f:ajax  execute="descricao" update=":ajaxForm" listener="#{setorManagedBean.loadSetores}" />
				                </h:commandButton>
				                

<h:outputLabel for="nomeInteressado" value="Interessado:" /> 
			                	<p:selectOneMenu value="#{protocoloManagedBean.nomeInteressado}">  
	           						<f:selectItem itemLabel="Selecione" itemValue="" />  
	           						<f:selectItem itemLabel="Núcleo de Informática e Informações - NII"  itemValue="1"/> 
	           						<f:selectItem itemLabel="Direção Geral - DG" itemValue="1" />  
	            					<f:selectItem itemLabel="Núcleo de Convênios - NUCONV" itemValue="2" />  
	       						</p:selectOneMenu> -->

	       						
<!-- <h:outputLabel for="cidade" value="Cidade:" /> 
				                <p:selectOneMenu value="#{protocoloManagedBean.cidade}">  
	           						<f:selectItem itemLabel="Selecione" itemValue="" />  
	           						<f:selectItem itemLabel="Curitiba"  itemValue="1"/> 
	           						<f:selectItem itemLabel="Maringá" itemValue="2" />  
	            					<f:selectItem itemLabel="Jandaia do Sul" itemValue="3" />  
	            					
	       						</p:selectOneMenu>  -->